{"version":3,"sources":["components/Person.js","components/numbers.js","components/Filter.js","App.js","index.js"],"names":["Person","person","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","persons","useState","filter","setFilter","filteredPersons","setFilteredPersons","useEffect","includes","del","event","dataTranfer","target","value","onChange","map","onClick","App","setPersons","newName","setNewName","setNumber","dataTransfer","initialNumbers","type","preventDefault","personObject","window","confirm","concat","ReactDOM","render","document","getElementById"],"mappings":"wLAOeA,EALA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACd,OACI,+BAAuBA,EAAOC,KAA9B,IAAqCD,EAAOE,SAAnCF,EAAOC,O,gBCHlBE,EAAU,eAqBD,EAnBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB5B,EAdA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAY5B,EATA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAO5B,EAJH,SAACG,GACXP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,KCiBdG,EAhCA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACEC,mBAAS,IADX,mBACpBC,EADoB,KACZC,EADY,OAEoBF,mBAAS,IAF7B,mBAEpBG,EAFoB,KAEHC,EAFG,KAI5BC,qBAAW,WACPD,EAAmBL,EAAQE,QAAO,SAAAjB,GAAM,OAAIA,EAAOC,KAAKqB,SAASL,SAClE,CAACF,EAASE,IAEb,IAIMM,EAAM,SAACC,GACTC,EACKD,EAAME,OAAOC,QAGtB,OACI,qCACI,yCADJ,oBAEqB,uBAAOC,SAZX,SAACJ,GAClBN,EAAUM,EAAME,OAAOC,UAYnB,6BACKR,EAAgBU,KAAI,SAAA7B,GAAM,OAC3B,qCACI,cAAC,EAAD,CAAQA,OAAQA,IAAU,wBAAQ2B,MAAO3B,EAAOW,GAAImB,QAASP,EAAnC,gCCkD/BQ,EA1EH,WAAO,IAAD,EACef,mBAAS,IADxB,mBACRD,EADQ,KACCiB,EADD,OAEgBhB,mBAAS,IAFzB,mBAERiB,EAFQ,KAECC,EAFD,OAGclB,mBAAS,IAHvB,mBAGRd,EAHQ,KAGAiC,EAHA,KAKhBd,qBAAU,WACRe,IAEC9B,MAAK,SAAA+B,GACJL,EAAWK,QAEZ,IA0CH,OACE,gCACE,2CACA,2CACA,iCACE,yCACQ,uBAAOT,SAdC,SAACJ,GACrBU,EAAWV,EAAME,OAAOC,aAepB,2CACU,uBAAOC,SAbF,SAACJ,GACpBW,EAAUX,EAAME,OAAOC,aAcnB,8BACE,wBAAQW,KAAK,SAASR,QApDd,SAACN,GACf,IAAIF,GAAW,EAGfE,EAAMe,iBAEN,IAAMC,EAAe,CACjBvC,KAAMgC,EACN/B,OAAQA,GAGZa,EAAQc,KAAI,SAAA7B,GACNA,EAAOC,OAASuC,EAAavC,OAC/BqB,GAAW,EACJmB,OAAOC,QAAP,UAAkBT,EAAlB,4EAELG,EACQpC,EAAOW,GAAI6B,OAKpBlB,IACDU,EAAWjB,EAAQ4B,OAAOH,IAC1BJ,EACQI,IAGZN,EAAW,IACXZ,GAAW,GAuBL,sBAGN,cAAC,EAAD,CAAQP,QAASA,QCpErB6B,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.81fb295c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person }) => {\r\n    return (\r\n        <li key={person.name}>{person.name} {person.number}</li>\r\n    )\r\n}\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n  axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, del }","import React, { useEffect, useState } from 'react'\r\nimport Person from './Person'\r\nimport dataTranfer from './numbers'\r\n\r\nconst Filter = ({ persons }) => {\r\n    const [ filter, setFilter ] = useState('')\r\n    const [ filteredPersons, setFilteredPersons ] = useState([])\r\n\r\n    useEffect (() => {\r\n        setFilteredPersons(persons.filter(person => person.name.includes(filter)))\r\n    }, [persons, filter])\r\n\r\n    const changeFilter = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    const del = (event) => {\r\n        dataTranfer\r\n        .del(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>Numbers</h2>\r\n            filter shown with<input onChange={changeFilter}/>\r\n            <ul>\r\n                {filteredPersons.map(person =>\r\n                <>\r\n                    <Person person={person} /><button value={person.id} onClick={del}>Delete</button>\r\n                </>\r\n                )}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter.js'\r\nimport dataTransfer from './components/numbers'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ number, setNumber ] = useState('')\r\n\r\n  useEffect(() => {\r\n    dataTransfer\r\n    .getAll()\r\n    .then(initialNumbers => {\r\n      setPersons(initialNumbers)\r\n    })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    let includes = false\r\n    let conf\r\n\r\n    event.preventDefault()\r\n\r\n    const personObject = {\r\n        name: newName,\r\n        number: number\r\n    }\r\n\r\n    persons.map(person => {\r\n      if (person.name === personObject.name) {\r\n        includes = true\r\n        conf = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n        if (conf) {\r\n          dataTransfer\r\n          .update(person.id, personObject)\r\n        }\r\n      }}\r\n    )\r\n\r\n    if (!includes) {\r\n        setPersons(persons.concat(personObject))\r\n        dataTransfer\r\n        .create(personObject)\r\n    }\r\n\r\n    setNewName('')\r\n    includes = false\r\n  }\r\n\r\n  const changeNewName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  \r\n  const changeNumber = (event) => {\r\n    setNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <h2>add a new</h2>\r\n      <form>\r\n        <div>\r\n          name: <input onChange={changeNewName}/>\r\n        </div>\r\n        <div>\r\n          number: <input onChange={changeNumber}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" onClick={addName}>add</button>\r\n        </div>\r\n      </form>\r\n    <Filter persons={persons}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}