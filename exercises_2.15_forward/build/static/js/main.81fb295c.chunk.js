(this["webpackJsonpexercises_2.15_forward"]=this["webpackJsonpexercises_2.15_forward"]||[]).push([[0],{37:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(2),a=n(14),i=n.n(a),u=n(3),o=function(e){var t=e.person;return Object(c.jsxs)("li",{children:[t.name," ",t.number]},t.name)},s=n(4),j=n.n(s),b="/api/persons",d=function(){return j.a.get(b).then((function(e){return e.data}))},f=function(e){return j.a.post(b,e).then((function(e){return e.data}))},h=function(e,t){return j.a.put("".concat(b,"/").concat(e),t).then((function(e){return e.data}))},l=function(e){j.a.delete("".concat(b,"/").concat(e))},O=function(e){var t=e.persons,n=Object(r.useState)(""),a=Object(u.a)(n,2),i=a[0],s=a[1],j=Object(r.useState)([]),b=Object(u.a)(j,2),d=b[0],f=b[1];Object(r.useEffect)((function(){f(t.filter((function(e){return e.name.includes(i)})))}),[t,i]);var h=function(e){l(e.target.value)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Numbers"}),"filter shown with",Object(c.jsx)("input",{onChange:function(e){s(e.target.value)}}),Object(c.jsx)("ul",{children:d.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(o,{person:e}),Object(c.jsx)("button",{value:e.id,onClick:h,children:"Delete"})]})}))})]})},p=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),o=Object(u.a)(i,2),s=o[0],j=o[1],b=Object(r.useState)(""),l=Object(u.a)(b,2),p=l[0],x=l[1];Object(r.useEffect)((function(){d().then((function(e){a(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)("h2",{children:"add a new"}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{onChange:function(e){j(e.target.value)}})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{onChange:function(e){x(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",onClick:function(e){var t=!1;e.preventDefault();var c={name:s,number:p};n.map((function(e){e.name===c.name&&(t=!0,window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))&&h(e.id,c))})),t||(a(n.concat(c)),f(c)),j(""),t=!1},children:"add"})})]}),Object(c.jsx)(O,{persons:n})]})};i.a.render(Object(c.jsx)(p,{}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.81fb295c.chunk.js.map